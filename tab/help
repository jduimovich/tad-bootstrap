SCRIPTDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )" 
source $SCRIPTDIR/configure 

TOPIC="${1:-none}" 

echo "tab: commands available"
ls -a -I . -I .. -I tab $SCRIPTDIR 
echo

EXCLUDE="-I . -I .. -I repository.yaml -I openshift-templates -I pipelines -I tasks" 
echo "PaC Handlers available"
ls  -a $EXCLUDE $PIPELINES_DIR   
echo 

if [ "$TOPIC" == "none" ]; then
    exit 0
fi

if test -d $PIPELINES_DIR/pipelines; then 
    echo "Pipelines available"
    ls  -d $EXCLUDE $PIPELINES_DIR/pipelines/*  | xargs -n1 basename | pr -2 -t2 -s
    echo
fi

if test -d $PIPELINES_DIR/tasks; then 
    echo "Tasks available"
    ls  -d $EXCLUDE $PIPELINES_DIR/tasks/*  | xargs -n1 basename | pr -2 -t2 -s
    echo 
fi




